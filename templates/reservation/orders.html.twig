<!-- templates/admin/orders.html.twig -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Commandes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Votre CSS personnalisé ici */
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="logo">Gestion Admin</div>
        <div class="nav-links">
            <a href="#" onclick="accueil()"><i class="fas fa-home"></i><span>Accueil</span></a>
            <a href="#" onclick="principale()"><i class="fas fa-users"></i><span>Page principale</span></a>
            <a href="#" onclick="commd()"><i class="fas fa-shopping-cart"></i><span>Commandes</span></a>
            <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i><span>Déconnexion</span></a>
        </div>
    </div>

    <!-- Contenu principal -->
    <div class="main-content">
        <h1>Tableau de Bord des Commandes</h1>

        <table id="ordersTable">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Nom</th>
                    <th>Email</th>
                    <th>Adresse</th>
                    <th>Type de repas</th>
                    <th>Plat choisi</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for order in orders %}
                    <tr>
                        <td>{{ order.id }}</td>
                        <td>{{ order.fullname }}</td>
                        <td>{{ order.email }}</td>
                        <td>{{ order.address }}</td>
                        <td>{{ order.mealType }}</td>
                        <td>{{ order.menuItem }}</td>
                        <td>
                            <button onclick="deleteOrder({{ order.id }})">Supprimer</button>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <canvas id="myChart"></canvas>
    </div>

    <script>
        function deleteOrder(id) {
            if (confirm('Êtes-vous sûr de vouloir supprimer cette commande ?')) {
                window.location.href = '/admin/order/' + id;
            }
        }
    </script>
</body>
</html>
